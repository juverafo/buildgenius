<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- Titre de la page -->
    <title>
        {% block title %}BuildGenius{% endblock %}
    </title>
    <!-- Icône de la page -->
    <link rel="icon" href="{{ asset('img/logo.png') }}" width="32px" height="32px">
    <!-- Inclusion du framework Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" integrity="sha512-b2QcS5SsA8tZodcDtGRELiGv5SaKSk1vDHDaQRda0htPYWZ6046lr3kJ5bAAQdpV2mmA/4v0wQF9MyU6/pDIAg==" crossorigin="anonymous" referrerpolicy="no-referrer"/> 
    {% block stylesheets %}{% endblock %}

    {% block javascripts %}
    {# {% block importmap %}{{ importmap('app') }}{% endblock %} #}
    {% endblock %}
</head>
<body>
    <!-- Barre de navigation -->
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <!-- Marque de la barre de navigation -->
            <a class="navbar-brand" href="{{path('app_home')}}">BuildGenius</a>
            <!-- Bouton de bascule pour les appareils mobiles -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <!-- Liens de navigation -->
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{{path('app_home')}}">Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">À propos</a>
                    </li>
                    {# Affichage du lien Admin si l'utilisateur est un administrateur #}
                    <a class="nav-link" href="{{ path('app_admin') }}" role="button">
                        Admin
                    </a>
                </ul>
            </div>
            <!-- Lien du panier -->
            {# <div class="nav-item ms-5 text-end">
                <a href="#" class="btn btn-warning">Panier</a>
            </div> #}
        </div>
        <!-- Menu utilisateur -->
        <div class="navbar-collapse collapse w-400 order-3 dual-collapse2">
            <ul class="navbar-nav ml-auto">
                {% if app.user %}
                    <!-- Lien vers le profil de l'utilisateur connecté -->
                    <li class="nav-item">
                        <a class="nav-link btn btn-warning" href="{{path('profile', {id: app.user.id})}}">Profil</a>
                    </li>
                    <!-- Lien de déconnexion pour l'utilisateur connecté -->
                    <li class="nav-item">
                        <a class="nav-link btn btn-warning" href="{{ path('app_logout') }}">Déconnexion</a>
                    </li>
                {% else %}
                    <!-- Lien de connexion pour les utilisateurs non connectés -->
                    <li class="nav-item">
                        <a class="nav-link btn btn-warning" href="{{ path('app_login') }}">Connexion</a>
                    </li>
                    <!-- Lien d'inscription pour les utilisateurs non connectés -->
                    <li class="nav-item">
                        <a class="nav-link btn btn-info" href="{{ path('app_signup') }}">Inscription</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </nav>

    <!-- Contenu principal -->
    <div class="container mt-4">
        <div class="w-50 mx-auto">
            <!-- Affichage des messages flash -->
            {% for label, msgs in app.flashes %}
                {% for msg in msgs %}
                    <div class="alert alert-{{ label }} text-center">
                        {{ msg }}
                    </div>
                {% endfor %}
            {% endfor %}
        </div>
        <!-- Bloc de contenu principal spécifique à chaque page -->
        {% block body %}{% endblock %}
    </div>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>